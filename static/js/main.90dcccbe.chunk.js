(this["webpackJsonpreact-github-portfolio"]=this["webpackJsonpreact-github-portfolio"]||[]).push([[0],{21:function(e,t,i){},22:function(e,t,i){},28:function(e,t,i){},29:function(e,t,i){},30:function(e,t,i){},31:function(e,t,i){"use strict";i.r(t);var s=i(0),o=i(2),r=i.n(o),a=i(10),n=i.n(a),c=(i(21),i(14)),l=i(6),u=i(11),d=i(12),p=i(5),h=i(15),b=i(13),j=(i(22),i(3)),f=i(4);i(28);var m=function(e){console.log("Profile",{props:e});var t=e.login,i=(e.id,e.node_id,e.avatar_url),o=(e.gravatar_id,e.url,e.html_url),r=(e.followers_url,e.following_url,e.gists_url,e.company),a=(e.starred_url,e.subscriptions_url,e.organizations_url,e.repos_url,e.events_url,e.received_events_url,e.type,e.site_admin,e.name),n=e.location,c=e.bio,l=e.handleBackClick,u={backgroundImage:"url(".concat(i,")")};return Object(s.jsxs)("article",{className:"Profile",children:[Object(s.jsx)("div",{className:"avatar",style:u}),Object(s.jsxs)("div",{className:"Profile-description",children:[a?Object(s.jsx)("div",{className:"username",children:a}):null,t?Object(s.jsx)("a",{href:o,children:Object(s.jsxs)("div",{className:"login",children:["@",t]})}):null,c?Object(s.jsx)("div",{className:"bio",children:c}):null]}),Object(s.jsxs)("div",{className:"Profile-status",children:[r?Object(s.jsxs)("div",{className:"company",children:[Object(s.jsx)(j.a,{icon:f.f}),"\xa0",r]}):null,n?Object(s.jsxs)("div",{className:"location",children:[Object(s.jsx)(j.a,{icon:f.d}),"\xa0",n]}):null]}),Object(s.jsx)("div",{className:"Profile-footer",children:Object(s.jsx)("button",{onClick:l,children:"Retour"})})]})};i(29),i(30);var v=function(e){var t=e.name,i=e.description,o=e.language,r=e.stargazers_count,a=e.forks,n=e.html_url,c=e.handleRepositoryClick,l=e.fork;return Object(s.jsxs)("article",{className:"Repository","data-url":n,onClick:c,"data-is-fork":l,children:[Object(s.jsx)("span",{className:"Repository-name",children:t}),Object(s.jsx)("span",{className:"Repository-description",children:i}),Object(s.jsxs)("div",{className:"Repository-infos",children:[Object(s.jsxs)("span",{className:"Repository-infos-language",children:[Object(s.jsx)(j.a,{icon:f.b}),"\xa0",o]}),Object(s.jsxs)("span",{className:"Repository-infos-stars",children:[Object(s.jsx)(j.a,{icon:f.e}),"\xa0",r]}),Object(s.jsxs)("span",{className:"Repository-infos-stars",children:[Object(s.jsx)(j.a,{icon:f.c}),"\xa0",a]})]})]})};var O=function(e){var t=e.repositories,i=e.handleRepositoryClick;return"string"===typeof t&&(t=JSON.parse(t)),Object(s.jsx)("section",{className:"Repositories",children:t?t.map((function(e){return Object(s.jsx)(v,Object(l.a)(Object(l.a)({},e),{},{handleRepositoryClick:i}),e.id)})):Object(s.jsx)("article",{children:"No repository found"})})},y=function(e){Object(h.a)(i,e);var t=Object(b.a)(i);function i(e){var s;return Object(u.a)(this,i),(s=t.call(this,e)).state={profile:localStorage.getItem(i.KEY_PROFILE_CACHE),repositories:localStorage.getItem(i.KEY_REPOSITORIES_CACHE),repositoriesVisibility:localStorage.getItem(i.KEY_REPOSITORIES_VISIBILITY_CACHE)},s.updateProfile=s.updateProfile.bind(Object(p.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(p.a)(s)),s.handleRepositoryClick=s.handleRepositoryClick.bind(Object(p.a)(s)),s.handleRepositoriesVisibilityClick=s.handleRepositoriesVisibilityClick.bind(Object(p.a)(s)),s}return Object(d.a)(i,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",i.handleDocumentKeypress,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",i.handleDocumentKeypress,!1)}},{key:"render",value:function(){var e=this.state,t=e.profile,o=e.repositories;return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("section",{className:"App-section",children:[Object(s.jsx)("section",{className:"App-section-main show",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("h1",{children:["Select a github profile",Object(s.jsx)("br",{}),"to generate a portfolio"]}),Object(s.jsxs)("form",{action:"#",name:"github-profile",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("input",{type:"text",name:"username",id:"username",placeholder:" "}),Object(s.jsx)("label",{htmlFor:"username",children:"Pseudo Github"})]}),Object(s.jsx)("button",{role:"button",type:"submit",onClick:this.handleSubmit,children:Object(s.jsx)(j.a,{icon:f.a})}),Object(s.jsx)("small",{className:"error-helper",children:"Unknown user"})]})]})}),Object(s.jsxs)("section",{className:"App-section-portfolio hide",children:[Object(s.jsx)("aside",{className:"App-section-portfolio-profile",children:Object(s.jsx)(m,Object(l.a)(Object(l.a)({},t),{},{handleBackClick:i.handleBackClick}))}),Object(s.jsxs)("section",{className:"App-section-portfolio-repositories",children:[Object(s.jsxs)("header",{className:"App-section-portfolio-repositories-header",children:[Object(s.jsx)("h2",{children:"Repositories"}),Object(s.jsx)("div",{className:"App-section-portfolio-repositories-actions",children:Object(s.jsxs)("div",{className:"list-button",children:[Object(s.jsx)("button",{className:"active","data-value":"all",onClick:this.handleRepositoriesVisibilityClick,children:"All"}),Object(s.jsx)("button",{"data-value":"owns",onClick:this.handleRepositoriesVisibilityClick,children:"Owns"}),Object(s.jsx)("button",{"data-value":"forks",onClick:this.handleRepositoriesVisibilityClick,children:"Forks"})]})})]}),Object(s.jsx)(O,{repositories:o,handleRepositoryClick:this.handleRepositoryClick})]})]})]})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s=document.forms["github-profile"].elements.username.value,o="https://api.github.com/users/".concat(s);fetch(o).then((function(e){return e.json()})).then((function(e){var s=e.message;if(s&&"Not Found"===s)i.handleErrorFetch();else{i.removeClassHasErrorForFormGithubProfile(),t.updateProfile(e);var o=e.repos_url;fetch(o).then((function(e){return e.json()})).then((function(e){t.updateRepositories(e),i.showPortfolioSection()})).catch((function(e){return console.log}))}})).catch((function(e){return console.error}))}},{key:"handleRepositoryClick",value:function(e){e.preventDefault();var t=e.target.dataset.url;window.location.href=t}},{key:"handleRepositoriesVisibilityClick",value:function(e){e.preventDefault();var t=e.target,s=t.dataset.value,o=t.closest(".list-button").querySelector("button.active");o&&o.classList.remove("active"),t.classList.add("active"),this.updateRepositoriesVisibility(s),i.toggleRepositoriesVisibility()}},{key:"updateProfile",value:function(e){console.log("App : updateProfile()",{profile:e}),e||(e={}),localStorage.setItem(i.KEY_PROFILE_CACHE,JSON.stringify(e)),this.setState({profile:e})}},{key:"updateRepositories",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("App : updateRepositories()",{repositories:e}),e||(e={}),localStorage.setItem(i.KEY_REPOSITORIES_CACHE,JSON.stringify(e)),this.setState({repositories:e})}},{key:"updateRepositoriesVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";console.log("App : updateRepositoriesVisibility()",{repositoriesVisibility:e}),localStorage.setItem(i.KEY_REPOSITORIES_VISIBILITY_CACHE,e),this.setState({repositoriesVisibility:e})}}],[{key:"showPortfolioSection",value:function(){var e=document.querySelector(".App-section-portfolio");e.classList.add("show"),e.classList.remove("hide"),document.querySelector(".App-section-main").classList.add("hide")}},{key:"showMainSection",value:function(){var e=document.querySelector(".App-section-main");e.classList.add("show"),e.classList.remove("hide"),document.querySelector(".App-section-portfolio").classList.add("hide")}},{key:"handleDocumentKeypress",value:function(e){27===e.keyCode&&i.showMainSection()}},{key:"toggleRepositoriesVisibility",value:function(){var e=localStorage.getItem(i.KEY_REPOSITORIES_VISIBILITY_CACHE);if(e){var t,s=document.querySelectorAll(".Repository"),o=Object(c.a)(s);try{for(o.s();!(t=o.n()).done;){var r=t.value,a=r.dataset.isFork;"owns"!==e||"true"!==a?"forks"!==e||"false"!==a?r.classList.remove("hide"):r.classList.add("hide"):r.classList.add("hide")}}catch(n){o.e(n)}finally{o.f()}}}},{key:"handleErrorFetch",value:function(){i.addClassHasErrorForFormGithubProfile()}},{key:"addClassHasErrorForFormGithubProfile",value:function(){document.forms["github-profile"].classList.add("has-error")}},{key:"removeClassHasErrorForFormGithubProfile",value:function(){document.forms["github-profile"].classList.remove("has-error")}},{key:"handleBackClick",value:function(e){e.preventDefault(),i.showMainSection()}}]),i}(r.a.Component);y.KEY_PROFILE_CACHE="github_portfolio_profile_cache",y.KEY_REPOSITORIES_CACHE="github_portfolio_repositories_cache",y.KEY_REPOSITORIES_VISIBILITY_CACHE="github_portfolio_repositories_visibility_cache";var g=y,k=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,32)).then((function(t){var i=t.getCLS,s=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;i(e),s(e),o(e),r(e),a(e)}))};n.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),k()}},[[31,1,2]]]);
//# sourceMappingURL=main.90dcccbe.chunk.js.map