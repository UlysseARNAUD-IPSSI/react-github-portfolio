(this["webpackJsonpreact-github-portfolio"]=this["webpackJsonpreact-github-portfolio"]||[]).push([[0],{21:function(e,i,s){},22:function(e,i,s){},28:function(e,i,s){},29:function(e,i,s){},30:function(e,i,s){},31:function(e,i,s){"use strict";s.r(i);var t=s(0),o=s(2),r=s.n(o),a=s(10),n=s.n(a),l=(s(21),s(14)),c=s(6),u=s(11),d=s(12),h=s(5),p=s(15),b=s(13),j=(s(22),s(3)),m=s(4);s(28);var f=function(e){console.log("Profile",{props:e});var i=e.login,s=(e.id,e.node_id,e.avatar_url),o=(e.gravatar_id,e.url,e.html_url),r=(e.followers_url,e.following_url,e.gists_url,e.company),a=(e.starred_url,e.subscriptions_url,e.organizations_url,e.repos_url,e.events_url,e.received_events_url,e.type,e.site_admin,e.name),n=e.location,l=e.bio,c=e.handleBackClick,u={backgroundImage:"url(".concat(s,")")};return Object(t.jsxs)("article",{className:"Profile",children:[Object(t.jsx)("div",{className:"avatar",style:u}),Object(t.jsxs)("div",{className:"Profile-description",children:[a?Object(t.jsx)("div",{className:"username",children:a}):null,i?Object(t.jsx)("a",{href:o,children:Object(t.jsxs)("div",{className:"login",children:["@",i]})}):null,l?Object(t.jsx)("div",{className:"bio",children:l}):null]}),Object(t.jsxs)("div",{className:"Profile-status",children:[r?Object(t.jsxs)("div",{className:"company",children:[Object(t.jsx)(j.a,{icon:m.f}),"\xa0",r]}):null,n?Object(t.jsxs)("div",{className:"location",children:[Object(t.jsx)(j.a,{icon:m.d}),"\xa0",n]}):null]}),Object(t.jsx)("div",{className:"Profile-footer",children:Object(t.jsx)("button",{onClick:c,children:"Retour"})})]})};s(29),s(30);var v=function(e){var i=e.name,s=e.description,o=e.language,r=e.stargazers_count,a=e.forks,n=e.html_url,l=e.handleRepositoryClick,c=e.fork;return Object(t.jsxs)("article",{className:"Repository","data-url":n,onClick:l,"data-is-fork":c,children:[Object(t.jsx)("span",{className:"Repository-name",children:i}),Object(t.jsx)("span",{className:"Repository-description",children:s}),Object(t.jsxs)("div",{className:"Repository-infos",children:[Object(t.jsxs)("span",{className:"Repository-infos-language",children:[Object(t.jsx)(j.a,{icon:m.b}),"\xa0",o]}),Object(t.jsxs)("span",{className:"Repository-infos-stars",children:[Object(t.jsx)(j.a,{icon:m.e}),"\xa0",r]}),Object(t.jsxs)("span",{className:"Repository-infos-stars",children:[Object(t.jsx)(j.a,{icon:m.c}),"\xa0",a]})]})]})};var O=function(e){var i=e.repositories,s=e.handleRepositoryClick;return"string"===typeof i&&(i=JSON.parse(i)),Object(t.jsx)("section",{className:"Repositories",children:i?i.map((function(e){return Object(t.jsx)(v,Object(c.a)(Object(c.a)({},e),{},{handleRepositoryClick:s}),e.id)})):Object(t.jsx)("article",{children:"No repository found"})})},y=function(e){Object(p.a)(s,e);var i=Object(b.a)(s);function s(e){var t;return Object(u.a)(this,s),(t=i.call(this,e)).state={profile:localStorage.getItem(s.KEY_PROFILE_CACHE),repositories:localStorage.getItem(s.KEY_REPOSITORIES_CACHE),repositoriesVisibility:localStorage.getItem(s.KEY_REPOSITORIES_VISIBILITY_CACHE)},t.updateProfile=t.updateProfile.bind(Object(h.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(h.a)(t)),t.handleRepositoryClick=t.handleRepositoryClick.bind(Object(h.a)(t)),t.handleRepositoriesVisibilityClick=t.handleRepositoriesVisibilityClick.bind(Object(h.a)(t)),t}return Object(d.a)(s,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",s.handleDocumentKeypress,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",s.handleDocumentKeypress,!1)}},{key:"render",value:function(){var e=this.state,i=e.profile,o=e.repositories;return Object(t.jsx)("div",{className:"App",children:Object(t.jsxs)("section",{className:"App-section",children:[Object(t.jsx)("section",{className:"App-section-main show",children:Object(t.jsxs)("div",{className:"container",children:[Object(t.jsxs)("h1",{children:["Select a github profile",Object(t.jsx)("br",{}),"to generate a portfolio"]}),Object(t.jsxs)("form",{action:"#",name:"github-profile",children:[Object(t.jsxs)("div",{className:"form-group",children:[Object(t.jsx)("input",{type:"text",name:"username",id:"username",placeholder:" "}),Object(t.jsx)("label",{htmlFor:"username",children:"Pseudo Github"})]}),Object(t.jsx)("button",{role:"button",type:"submit",onClick:this.handleSubmit,children:Object(t.jsx)(j.a,{icon:m.a})}),Object(t.jsxs)("aside",{class:"error-helper-wrapper",children:[Object(t.jsx)("small",{className:"error-helper","aria-labelledby":"unknown-user",children:"Unknown user"}),Object(t.jsx)("small",{className:"error-helper","aria-labelledby":"invalid-username",children:"Invalid username"})]})]})]})}),Object(t.jsxs)("section",{className:"App-section-portfolio hide",children:[Object(t.jsx)("aside",{className:"App-section-portfolio-profile",children:Object(t.jsx)(f,Object(c.a)(Object(c.a)({},i),{},{handleBackClick:s.handleBackClick}))}),Object(t.jsxs)("section",{className:"App-section-portfolio-repositories",children:[Object(t.jsxs)("header",{className:"App-section-portfolio-repositories-header",children:[Object(t.jsx)("h2",{children:"Repositories"}),Object(t.jsx)("div",{className:"App-section-portfolio-repositories-actions",children:Object(t.jsxs)("div",{className:"list-button",children:[Object(t.jsx)("button",{className:"active","data-value":"all",onClick:this.handleRepositoriesVisibilityClick,children:"All"}),Object(t.jsx)("button",{"data-value":"owns",onClick:this.handleRepositoriesVisibilityClick,children:"Owns"}),Object(t.jsx)("button",{"data-value":"forks",onClick:this.handleRepositoriesVisibilityClick,children:"Forks"})]})})]}),Object(t.jsx)(O,{repositories:o,handleRepositoryClick:this.handleRepositoryClick})]})]})]})})}},{key:"handleSubmit",value:function(e){var i=this;e.preventDefault();var t=document.forms["github-profile"].elements.username.value;if(t){var o="https://api.github.com/users/".concat(t);fetch(o).then((function(e){return e.json()})).then((function(e){var t=e.message;if(t&&"Not Found"===t)s.handleErrorUnknownUser();else{s.removeClassHasErrorForFormGithubProfile(),i.updateProfile(e);var o=e.repos_url;fetch(o).then((function(e){return e.json()})).then((function(e){i.updateRepositories(e),s.showPortfolioSection()})).catch((function(e){return console.error}))}})).catch((function(e){return console.error}))}else s.handleErrorInvalidUsername()}},{key:"handleRepositoryClick",value:function(e){e.preventDefault();var i=e.target;i.classList.contains("Repository")||(i=i.closest(".Repository"));var s=i.dataset.url;window.location.href=s}},{key:"handleRepositoriesVisibilityClick",value:function(e){e.preventDefault();var i=e.target,t=i.dataset.value,o=i.closest(".list-button").querySelector("button.active");o&&o.classList.remove("active"),i.classList.add("active"),this.updateRepositoriesVisibility(t),s.toggleRepositoriesVisibility()}},{key:"updateProfile",value:function(e){console.log("App : updateProfile()",{profile:e}),e||(e={}),localStorage.setItem(s.KEY_PROFILE_CACHE,JSON.stringify(e)),this.setState({profile:e})}},{key:"updateRepositories",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("App : updateRepositories()",{repositories:e}),e||(e={}),localStorage.setItem(s.KEY_REPOSITORIES_CACHE,JSON.stringify(e)),this.setState({repositories:e})}},{key:"updateRepositoriesVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";console.log("App : updateRepositoriesVisibility()",{repositoriesVisibility:e}),localStorage.setItem(s.KEY_REPOSITORIES_VISIBILITY_CACHE,e),this.setState({repositoriesVisibility:e})}}],[{key:"showPortfolioSection",value:function(){var e=document.querySelector(".App-section-portfolio");e.classList.add("show"),e.classList.remove("hide"),document.querySelector(".App-section-main").classList.add("hide")}},{key:"showMainSection",value:function(){var e=document.querySelector(".App-section-main");e.classList.add("show"),e.classList.remove("hide"),document.querySelector(".App-section-portfolio").classList.add("hide")}},{key:"handleDocumentKeypress",value:function(e){27===e.keyCode&&s.showMainSection()}},{key:"toggleRepositoriesVisibility",value:function(){var e=localStorage.getItem(s.KEY_REPOSITORIES_VISIBILITY_CACHE);if(e){var i,t=document.querySelectorAll(".Repository"),o=Object(l.a)(t);try{for(o.s();!(i=o.n()).done;){var r=i.value,a=r.dataset.isFork;"owns"!==e||"true"!==a?"forks"!==e||"false"!==a?r.classList.remove("hide"):r.classList.add("hide"):r.classList.add("hide")}}catch(n){o.e(n)}finally{o.f()}}}},{key:"handleErrorUnknownUser",value:function(){s.removeClassHasErrorForFormGithubProfile("invalid-username"),s.addClassHasErrorForFormGithubProfile("unknown-user")}},{key:"handleErrorInvalidUsername",value:function(){s.removeClassHasErrorForFormGithubProfile("unknown-user"),s.addClassHasErrorForFormGithubProfile("invalid-username")}},{key:"addClassHasErrorForFormGithubProfile",value:function(e){var i=document.forms["github-profile"];i.classList.add("has-error"),i.classList.add("has-error-"+e),setTimeout((function(){i.classList.remove("has-error"),i.classList.remove("has-error-"+e)}),3e3)}},{key:"removeClassHasErrorForFormGithubProfile",value:function(){var e=document.forms["github-profile"];e.classList.remove("has-error"),e.classList.remove("has-error-unknown-user"),e.classList.remove("has-error-invalid-username")}},{key:"handleBackClick",value:function(e){e.preventDefault(),s.showMainSection()}}]),s}(r.a.Component);y.KEY_PROFILE_CACHE="github_portfolio_profile_cache",y.KEY_REPOSITORIES_CACHE="github_portfolio_repositories_cache",y.KEY_REPOSITORIES_VISIBILITY_CACHE="github_portfolio_repositories_visibility_cache";var k=y,g=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,32)).then((function(i){var s=i.getCLS,t=i.getFID,o=i.getFCP,r=i.getLCP,a=i.getTTFB;s(e),t(e),o(e),r(e),a(e)}))};n.a.render(Object(t.jsx)(r.a.StrictMode,{children:Object(t.jsx)(k,{})}),document.getElementById("root")),g()}},[[31,1,2]]]);
//# sourceMappingURL=main.53ed2d12.chunk.js.map